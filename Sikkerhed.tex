\chapter{Sikkerhed}

Eftersom det er en web-application er der altid nogle sikkerhedsaspekter forbundet med disse. Især hvis det er en siden som bliver lagt ud på Internettet så alle har adgang. Nu er vores kun til internt brug, så vi forventer ikke der er nogen ondsindet brugere af vores system. Med det sagt har vi selvfølgelig stadig gjort os nogle overvejelser omkring de mest basale sikkerhedshuller i webapplikationer. Vi mener det er et område der skal tages seriøst, selvom de data vi arbejder med ikke er personfølsomme bør man stadig beskytte dem hvis man skulle være uheldig at få de forkerte folk ind i virksomheden.

Et af de steder man ofte ser angreb på hjemmesider er via SQL injections. Det er et angreb direkte på de data man har i sin database, og derfor kan det være meget alvorligt hvis man kan få adgang til disse. Man kan trække data ud som man ikke normalt skal kunne se, eller man kan sågar slette hele tabeller. 

Man udnytter de steder hvor brugeren skal taste oplysninger ind, da de input vil blive sendt videre til databasen. Dem manipulere man så database tror det er en SQL kommando som den så udføre i stedet for at sætte de data ind som man egentlig bad den om. Et simpelt eksempel kan være en login form, hvor bruger skal indtaste brugernavn og kode. Hvis det ikke er lavet ordenligt kan man kunne logge ind uden at kende passwordet. Hvis man skriver \verb| fakepassword' OR '1' | i password feltet vil databasen læse det som at endte skal passwordet være "fakepassword eller også skal "1" være true. Dermed har man så fået adgang da 1 vil blive opfattet som true. Alle de steder hvor man sender noget til databasen som brugeren kan manipulere på en eller anden måde skal man være opmærksom på denne type angreb.

Da vi bruger LINQ er der allerede taget hånd om dette problem for os. LINQ bruger en klasse kaldet SQLParameter som sørger for at vores input bliver lavet til parameter værdier, som uskadeliggør denne type angreb. \citep{sqlinjection} Havde man bygget sine SQL-strenge op med almindelig SQL skulle man selv sørge for disse parameter blev lavet for at undgå injections. 

Et andet typisk angreb på web-sites er Cross-site scripting (XSS). Her kan man eksempelvis lægge noget html eller JavaScript kode ind i databasen, hvorefter det så bliver hentet ud igen og fortolket af browseren. Hvis man eksempelvis opretter en support-ticket i vores system, kan man tilføje $<$b$>$ og $<$/b$>$ rundt om sin besked. Hvis man så ikke tager højde for den slags vil browseren læse det som at teksten skal stå med fed. Simpelt og harmløst, men det kan bruges til langt værre ting som at opsnappe personlige oplysninger osv. Da vi bruger Razor i vores views slipper vi nemt for den slags angreb da, de metoder vi bruger til at skrive tekst ud med har allerede taget højde for den slags, og skriver alt teksten ud, uden browseren fortolker noget af det. Ønsker man at brugeren skal kunne formatere sine inputs kan man bruge HTML.Raw(), men så er man igen sårbar overfor XXS.

For at bruge vores system skal man have en bruger med login og password. Når man har en bruger er en tilknyttet en eller flere titler. Det kan eksempelvis Sælger, Support eller Administrator. Ud fra disse titler og et sitemap over hele sitet kan vi styre hvilken område hver bruger har adgang til. De steder hvor bruger ikke har adgang vil bruger typisk ikke kunne se linket der til, og skulle bruger skrive adressen manuelt vil han bliver flyttet væk med en besked om adgang er nægtet. 

For at logge ind har brugeren som sagt et brugernavn og password. Password har vi krypteret med en MD5 kryptering. Det er aldrig smart at gemme passwords i klar tekst. Ville man have yderligere beskyttelse her kunne man vælge at salte sit password. Da vi ved det kun er til internt brug følte vi det var nok blot at kryptere passwordet. Når man salter et password blander man et andet ord sammen med passwordet som så bliver krypteret. På den måde bliver det endnu sværere at regne ud hvad passwordet i virkeligheden er, hvis man skulle få fat i det.
